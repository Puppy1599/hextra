{"/about/":{"data":{"":"","-about-this-project#🚀 About This Project":"","-license#📜 License":"🚀 About This Project This is a blog with a meaningful domain name.\n👥 Team Name Role w none z none 📜 License ","-team#👥 Team":""},"title":"About"},"/blog/":{"data":{"":" RSS 订阅 "},"title":"博客"},"/docs/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/":{"data":{"":"这是 渗透测试 部分的概述内容…\n待完成内容：闭合方式判断、Cookie、base64、user-agent、refer 进行sql注入我需要获取user()还是current_user() file_priv hosts文件目录和作用 一句话木马"},"title":"渗透测试"},"/docs/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/":{"data":{"":"这是 环境配置 部分的概述内容…"},"title":"环境配置"},"/docs/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%A9%E5%B1%95/":{"data":{"":"","#":"1、HackBar "},"title":"浏览器扩展"},"/docs/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/burp-suite/":{"data":{"":"","#":"一、Java 环境的配置 Note\nBurp Suite 是一个基于 Java 开发的应用程序，因此需要配置 Java 环境来执行其代码。\n下载链接：Oracle Java\n下载 Windows 版本的 JDK\n将 JDK 的压缩包解压到任意指定的目录（以 D:\\Program Files\\Java 为例）\n配置环境变量\n新建系统变量 JAVA_HOME （以 D:\\Program Files\\Java\\jdk-24 为例）\n编辑系统环境变量 Path，添加 %JAVA_HOME%\\bin\n验证 Java 环境\njava -version 检查 Java 版本 javac -version 检查 Java 编译器版本 二、Burp Suite 的安装 下载链接：Burp Suite\n下载 JAR 版本的 Burp Suite\n下载 BurpLoaderKeygen\nWarning\n由于涉及到版权问题，该软件请在 Github 或 Bing 等网站自行搜索下载，仅供学习和交流使用，商业使用请购买正版软件！\n将下载的 Burp Suite 和 BurpLoaderKeygen 放在任意指定的目录\n（以 D:\\Program Files\\burpsuite_pro 为例）\n启动 BurpLoaderKeygen 加载器\njava -jar BurpLoaderKeygen.jar 配置 BurpLoaderKeygen 加载器\n勾选 Auto Run，下次打开 BurpLoaderKeygen 时会自动运行 Burp Suite 任意修改 License Text（可选，以 licensed to Hailo 为例） 复制 License 的内容 点击 Run 运行 Burp Suite 激活 Burp Suite\n点击 Next 跳过 License Agreement\n将之前复制 License 的内容粘贴到 License Key\n选择手动激活 Manual activation\n复制 request\n粘贴到 BurpLoaderKeygen 的 Activation Request 并复制 Activation Response\n粘贴到 Burp Suite 的 response\n成功激活\n优化 Burp Suite 的启动\n新建 burpsuite.bat 文件并放到 Burp Suite 的同级目录下\njava -jar \"D:\\Program Files\\burpsuite_pro\\BurpLoaderKeygen.jar\" 将 D:\\Program Files\\burpsuite_pro 添加到系统环境变量\n在 cmd 中使用 burpsuite 命令运行 Burp Suite"},"title":"Burp Suite"},"/docs/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/sql-%E6%B3%A8%E5%85%A5/":{"data":{"":"这是 渗透测试 部分的概述内容…"},"title":"渗透测试"},"/docs/cisco-pt-%E5%AE%9E%E9%AA%8C/":{"data":{"":"这是 Cisco PT 实验 部分的概述内容…"},"title":"Cisco PT 实验"},"/docs/cisco-pt-%E5%AE%9E%E9%AA%8C/%E8%B7%A8-vlan-%E9%80%9A%E4%BF%A1/":{"data":{"":"","#":"一、使用路由器的两个物理端口 Cisco PT 拓扑图 实验流程 1、配置 PC 的 IP 地址 2、配置路由器端口的 IP 地址 Router\u003een Router#conf t Enter configuration commands, one per line. End with CNTL/Z. Router(config)#int g 0/0/0 Router(config-if)#ip add 192.168.1.254 255.255.255.0 Router(config-if)#no sh Router(config-if)# %LINK-5-CHANGED: Interface GigabitEthernet0/0/0, changed state to up %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0/0, changed state to up Router(config-if)#int g0/0/1 Router(config-if)#ip add 192.168.2.254 255.255.255.0 Router(config-if)#no sh Router(config-if)# %LINK-5-CHANGED: Interface GigabitEthernet0/0/1, changed state to up %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0/1, changed state to up 3、配置 VLAN Switch\u003een Switch#conf t Enter configuration commands, one per line. End with CNTL/Z. Switch(config)#vlan 10 Switch(config-vlan)#vlan 20 Switch(config-vlan)#exit Switch(config)#int f0/1 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 10 Switch(config-if)#int f0/2 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 20 Switch(config-if)#do sh vl b Switch(config-if)#int g0/1 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 10 Switch(config-if)#int g0/2 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 20 4、跨 VLAN 通信 ping 192.168.2.1 5、实验分析 当主机 ping 192.168.2.1 时，会检查目标 IP 是否与自身 IP 处于同一网段\n目标 IP 与源 IP 不在同一网段时，主机会将数据包发送到路由器进行路由\n主机查找自身的 ARP 缓存表中路由器的 MAC 地址条目并将 ICMP 包发送到路由器\n若自身 ARP 缓存表中不存在路由器的 MAC 地址条目，会先发送 ARP 报文请求路由器的 MAC 地址，然后将 ICMP 包发送到路由器\nICMP 包从 F0/1 端口进入交换机后会在帧头封装一个 802.1Q VLAN 标签\nTPID：一般为 0x8100，表示这是一个带 VLAN 标签的帧 TCI：包含了 VLAN ID 和优先级等信息 PRI：表示帧的优先级，当交换机阻塞时优先级高的帧会优先发送 CFI：表示 MAC 地址是否为经典格式，在以太网中的值通常为 0（经典格式） VLAN ID：VLAN 编号 ICMP 包从 G0/1 端口离开交换机前会剥掉帧头的 VLAN 标签\nICMP 包从 G0/2 端口进入交换机和从 F0/2 端口离开交换机以及目标主机回包时重复上述步骤，完成通信\nTip\n通过 TCI 判断数据帧所属的 VLAN ：整个 TCI 字段的后 12 位就是 VLAN ID，也可以使用计算公式（VID = TCI \u0026 0x0FFF）。 以 0x000a 为例，该 TCI 字段的后 12 位为 0x00a，即十进制的 10，因此该数据帧属于 VLAN 10。\n6、实验中遇到的问题 Important\n请先尝试自己思考，然后查看答案。\n交换机的 G0/1 和 G0/2 端口设置为 trunk 模式无法进行正常通信 ARP 报文从 F0/1 端口进入交换机后会在帧头封装一个 VLAN 标签 若将 G0/1 和 G0/2 端口设置为 trunk 模式，交换机转发数据帧时不会剥掉 VLAN 标签 路由器的 G0/0/0 和 G0/0/1 是普通物理端口，无法识别携带 VLAN 标签的数据帧 ARP 报文被路由器直接丢弃，主机无法获取到网关的 IP 地址，也就无法发送 ICMP 包 Simulation 看不到数据帧中封装的 VLAN 标签 F0/1 端口是 access 模式，数据帧进入交换机后会在帧头封装一个 VLAN 标签 G0/1 端口是 access 模式，数据帧离开交换机前又会剥掉帧头中的 VLAN 标签 F0/2 和 G0/2 原理同上，VLAN 标签仅在交换机内部进行处理 所以无法在 Simulation 看到数据帧中封装的 VLAN 标签 二、单臂路由 Cisco PT 拓扑图 实验流程 1、配置 PC 的 IP 地址 2、配置路由器端口的 IP 地址 Router\u003een Router#conf t Enter configuration commands, one per line. End with CNTL/Z. Router(config)#int g0/0/0 Router(config-if)#no sh Router(config-if)# %LINK-5-CHANGED: Interface GigabitEthernet0/0/0, changed state to up %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0/0, changed state to up Router(config-if)#int g0/0/0.10 Router(config-subif)# %LINK-5-CHANGED: Interface GigabitEthernet0/0/0.10, changed state to up %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0/0.10, changed state to up Router(config-subif)#en dot1q 10 Router(config-subif)#ip add 192.168.1.254 255.255.255.0 Router(config-subif)#int g0/0/0.20 Router(config-subif)# %LINK-5-CHANGED: Interface GigabitEthernet0/0/0.20, changed state to up %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0/0.20, changed state to up Router(config-subif)#en dot1q 20 Router(config-subif)#ip add 192.168.2.254 255.255.255.0 3、配置 VLAN Switch\u003een Switch#conf t Enter configuration commands, one per line. End with CNTL/Z. Switch(config)#int f0/1 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 10 % Access VLAN does not exist. Creating vlan 10 Switch(config-if)#int f0/2 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 20 % Access VLAN does not exist. Creating vlan 20 Switch(config-if)#int g0/1 Switch(config-if)#sw mo tr Switch(config-if)# %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to down %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/1, changed state to up Switch(config-if)#sw tr al vl al 4、跨 VLAN 通信 ping 192.168.2.1 5、实验分析 使用路由器的单个物理端口创建多个虚拟子接口 在子接口中使用命令 encapsulation dot1Q vlan \u003cVLAN_ID\u003e 启用 dot1Q 封装 进行 dot1Q 封装后的虚拟子接口可以处理携带 VLAN 标签的数据帧 将交换机的 G0/1 端口设置为 trunk 模式，使所有 VLAN 流量都可以到达路由器 ICMP 包从 F0/1 端口进入交换机后会在帧头封装一个 VLAN 10 标签 由于 G0/1 端口是 trunk 模式，转发数据帧时不会剥掉帧头的 VLAN 10 标签 路由器的 G0/0/0.10 子接口收到携带 VLAN 10 标签的数据帧后会进行路由和转发 路由器的 G0/0/0.20 子接口转发数据前会替换 VLAN 标签为 VLAN 20 由于 F0/2 端口是 access 模式，交换机剥掉数据帧中的 VLAN 20 标签后转发到目标主机 三、三层交换技术 Cisco PT 拓扑图 实验流程 1、配置 PC 的 IP 地址 2、配置三层交换机的路由功能 Switch\u003een Switch#conf t Enter configuration commands, one per line. End with CNTL/Z. Switch(config)#vlan 10 Switch(config-vlan)#vlan 20 Switch(config-vlan)#exit Switch(config)#int vlan 10 Switch(config-if)# %LINK-5-CHANGED: Interface Vlan10, changed state to up Switch(config-if)#ip add 192.168.1.254 255.255.255.0 Switch(config-if)#int vlan 20 Switch(config-if)# %LINK-5-CHANGED: Interface Vlan20, changed state to up Switch(config-if)#ip add 192.168.2.254 255.255.255.0 Switch(config-if)#exit Switch(config)#ip routing Switch(config)#int g1/0/1 Switch(config-if)#sw mo tr Switch(config-if)# %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet1/0/1, changed state to down %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet1/0/1, changed state to up %LINEPROTO-5-UPDOWN: Line protocol on Interface Vlan10, changed state to up %LINEPROTO-5-UPDOWN: Line protocol on Interface Vlan20, changed state to up Switch(config-if)#sw tr al vl al Switch(config-if)#int g1/0/2 Switch(config-if)#sw mo tr Switch(config-if)# %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet1/0/2, changed state to down %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet1/0/2, changed state to up Switch(config-if)#sw tr al vl al Switch(config-if)#exit Switch(config)#do sh ip route Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2 E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area * - candidate default, U - per-user static route, o - ODR P - periodic downloaded static route Gateway of last resort is not set C 192.168.1.0/24 is directly connected, Vlan10 C 192.168.2.0/24 is directly connected, Vlan20 Switch(config)# 3、配置二层交换机 VLAN 交换机 S1：\nSwitch\u003een Switch#conf t Enter configuration commands, one per line. End with CNTL/Z. Switch(config)#int g0/1 Switch(config-if)#sw mo tr Switch(config-if)#sw tr al vl al Switch(config-if)#int f0/1 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 10 % Access VLAN does not exist. Creating vlan 10 Switch(config-if)# 交换机 S2：\nSwitch\u003een Switch#conf t Enter configuration commands, one per line. End with CNTL/Z. Switch(config)#int f0/1 Switch(config-if)#sw mo ac Switch(config-if)#sw ac vl 20 % Access VLAN does not exist. Creating vlan 20 Switch(config-if)#int g0/1 Switch(config-if)#sw mo tr Switch(config-if)#sw tr al vl al Switch(config-if)# 4、跨 VLAN 通信 ping 192.168.2.1 5、实验分析 四、单臂路由访问互联网 五、三层交换技术访问互联网 "},"title":"跨 VLAN 通信"},"/docs/cisco-pt-%E5%AE%9E%E9%AA%8C/vlan-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/":{"data":{"":"","#":"Cisco PT 拓扑图 实验流程 Switch(config)#vlan 10 Switch(config-vlan)#exit Switch(config)#vlan 20 Switch(config-vlan)#exit 创建 VLAN vlan \u003cVLAN_ID\u003e (vlan 10) Switch#show vlan VLAN Name Status Ports ---- -------------------------------- --------- ------------------------------- 1 default active Fa0/1, Fa0/2, Fa0/3, Fa0/4 Fa0/5, Fa0/6, Fa0/7, Fa0/8 Fa0/9, Fa0/10, Fa0/11, Fa0/12 Fa0/13, Fa0/14, Fa0/15, Fa0/16 Fa0/17, Fa0/18, Fa0/19, Fa0/20 Fa0/21, Fa0/22, Fa0/23, Fa0/24 Gig0/1, Gig0/2 10 VLAN0010 active 20 VLAN0020 active 1002 fddi-default active 1003 token-ring-default active 1004 fddinet-default active 1005 trnet-default active VLAN Type SAID MTU Parent RingNo BridgeNo Stp BrdgMode Trans1 Trans2 ---- ----- ---------- ----- ------ ------ -------- ---- -------- ------ ------ 1 enet 100001 1500 - - - - - 0 0 10 enet 100010 1500 - - - - - 0 0 20 enet 100020 1500 - - - - - 0 0 1002 fddi 101002 1500 - - - - - 0 0 1003 tr 101003 1500 - - - - - 0 0 1004 fdnet 101004 1500 - - - ieee - 0 0 1005 trnet 101005 1500 - - - ibm - 0 0 VLAN Type SAID MTU Parent RingNo BridgeNo Stp BrdgMode Trans1 Trans2 ---- ----- ---------- ----- ------ ------ -------- ---- -------- ------ ------ Remote SPAN VLANs ------------------------------------------------------------------------------ Primary Secondary Type Ports ------- --------- ----------------- ------------------------------------------ Switch#show vlan brief VLAN Name Status Ports ---- -------------------------------- --------- ------------------------------- 1 default active Fa0/1, Fa0/2, Fa0/3, Fa0/4 Fa0/5, Fa0/6, Fa0/7, Fa0/8 Fa0/9, Fa0/10, Fa0/11, Fa0/12 Fa0/13, Fa0/14, Fa0/15, Fa0/16 Fa0/17, Fa0/18, Fa0/19, Fa0/20 Fa0/21, Fa0/22, Fa0/23, Fa0/24 Gig0/1, Gig0/2 10 VLAN0010 active 20 VLAN0020 active 1002 fddi-default active 1003 token-ring-default active 1004 fddinet-default active 1005 trnet-default active Switch#show vlan id 1 VLAN Name Status Ports ---- -------------------------------- --------- ------------------------------- 1 default active Fa0/1, Fa0/2, Fa0/3, Fa0/4 Fa0/5, Fa0/6, Fa0/7, Fa0/8 Fa0/9, Fa0/10, Fa0/11, Fa0/12 Fa0/13, Fa0/14, Fa0/15, Fa0/16 Fa0/17, Fa0/18, Fa0/19, Fa0/20 Fa0/21, Fa0/22, Fa0/23, Fa0/24 Gig0/1, Gig0/2 VLAN Type SAID MTU Parent RingNo BridgeNo Stp BrdgMode Trans1 Trans2 ---- ----- ---------- ----- ------ ------ -------- ---- -------- ------ ------ 1 enet 100001 1500 - - - - - 0 0 显示所有 VLAN 及其基本信息 show vlan brief 显示所有 VLAN 及其详细信息 show vlan 显示单个 VLAN 详细信息 show vlan id \u003cVLAN_ID\u003e (show vlan id 1) Switch(config)#interface fastEthernet 0/2 Switch(config-if)#switchport mode access Switch(config-if)#exit Switch(config)#interface fastEthernet 0/3 Switch(config-if)#switchport mode access Switch(config-if)#exit 将端口设置为接入（Access）模式 switchport mode access Switch(config)#interface fastEthernet 0/2 Switch(config-if)#switchport access vlan 10 Switch(config-if)#exit Switch(config)#interface fastEthernet 0/3 Switch(config-if)#switchport access vlan 20 Switch(config-if)#exit 为端口设置默认 VLAN switchport access vlan \u003cVLAN_ID\u003e (switchport access vlan 10) Switch#show interfaces switchport Name: Fa0/1 Switchport: Enabled Administrative Mode: dynamic auto Operational Mode: static access Administrative Trunking Encapsulation: dot1q Operational Trunking Encapsulation: native Negotiation of Trunking: On Access Mode VLAN: 1 (default) Trunking Native Mode VLAN: 1 (default) Voice VLAN: none Administrative private-vlan host-association: none Administrative private-vlan mapping: none Administrative private-vlan trunk native VLAN: none Administrative private-vlan trunk encapsulation: dot1q Administrative private-vlan trunk normal VLANs: none Administrative private-vlan trunk private VLANs: none Operational private-vlan: none Trunking VLANs Enabled: All Pruning VLANs Enabled: 2-1001 Capture Mode Disabled Capture VLANs Allowed: ALL Protected: false Unknown unicast blocked: disabled Unknown multicast blocked: disabled Appliance trust: none Name: Fa0/2 Switchport: Enabled Administrative Mode: static access Operational Mode: static access Administrative Trunking Encapsulation: dot1q Operational Trunking Encapsulation: native Negotiation of Trunking: Off Access Mode VLAN: 10 (VLAN0010) Trunking Native Mode VLAN: 1 (default) Voice VLAN: none Administrative private-vlan host-association: none Administrative private-vlan mapping: none Administrative private-vlan trunk native VLAN: none Administrative private-vlan trunk encapsulation: dot1q Administrative private-vlan trunk normal VLANs: none Administrative private-vlan trunk private VLANs: none Operational private-vlan: none Trunking VLANs Enabled: All Pruning VLANs Enabled: 2-1001 Capture Mode Disabled Capture VLANs Allowed: ALL Protected: false Unknown unicast blocked: disabled Unknown multicast blocked: disabled Appliance trust: none Name: Fa0/3 Switchport: Enabled Administrative Mode: static access Operational Mode: static access Administrative Trunking Encapsulation: dot1q Operational Trunking Encapsulation: native Negotiation of Trunking: Off Access Mode VLAN: 20 (VLAN0020) Trunking Native Mode VLAN: 1 (default) Voice VLAN: none Administrative private-vlan host-association: none Administrative private-vlan mapping: none Administrative private-vlan trunk native VLAN: none Administrative private-vlan trunk encapsulation: dot1q Switch#show interfaces fastethernet 0/2 switchport Name: Fa0/2 Switchport: Enabled Administrative Mode: static access Operational Mode: static access Administrative Trunking Encapsulation: dot1q Operational Trunking Encapsulation: native Negotiation of Trunking: Off Access Mode VLAN: 10 (VLAN0010) Trunking Native Mode VLAN: 1 (default) Voice VLAN: none Administrative private-vlan host-association: none Administrative private-vlan mapping: none Administrative private-vlan trunk native VLAN: none Administrative private-vlan trunk encapsulation: dot1q Administrative private-vlan trunk normal VLANs: none Administrative private-vlan trunk private VLANs: none Operational private-vlan: none Trunking VLANs Enabled: All Pruning VLANs Enabled: 2-1001 Capture Mode Disabled Capture VLANs Allowed: ALL Protected: false Unknown unicast blocked: disabled Unknown multicast blocked: disabled Appliance trust: none 查看所有端口的详细状态 show interfaces switchport 查看单个接口的详细状态 show interfaces \u003cINTERFACES_ID\u003e switchport (show interfaces fastethernet 0/2 switchport) Switch(config-if)#switchport mode trunk Switch(config-if)# %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/1, changed state to down %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/1, changed state to up 将端口设置为干道（Trunk）模式 switchport mode trunk Switch(config-if)#switchport trunk allowed vlan all Switch(config-if)#exit Switch(config)#do show interfaces f0/1 switchport Name: Fa0/1 Switchport: Enabled Administrative Mode: trunk Operational Mode: trunk Administrative Trunking Encapsulation: dot1q Operational Trunking Encapsulation: dot1q Negotiation of Trunking: On Access Mode VLAN: 1 (default) Trunking Native Mode VLAN: 1 (default) Voice VLAN: none Administrative private-vlan host-association: none Administrative private-vlan mapping: none Administrative private-vlan trunk native VLAN: none Administrative private-vlan trunk encapsulation: dot1q Administrative private-vlan trunk normal VLANs: none Administrative private-vlan trunk private VLANs: none Operational private-vlan: none Trunking VLANs Enabled: All Pruning VLANs Enabled: 2-1001 Capture Mode Disabled Capture VLANs Allowed: ALL Protected: false Unknown unicast blocked: disabled Unknown multicast blocked: disabled Appliance trust: none 允许 Trunk 端口通过所有 VLAN 流量 switchport trunk allowed vlan all Switch#show interfaces trunk Port Mode Encapsulation Status Native vlan Fa0/1 on 802.1q trunking 1 Port Vlans allowed on trunk Fa0/1 1-1005 Port Vlans allowed and active in management domain Fa0/1 1,10,20 Port Vlans in spanning tree forwarding state and not pruned Fa0/1 1,10,20 查看当前配置为 Trunk 的端口及其详细信息 show interfaces trunk "},"title":"VLAN 基础配置"}}